;; A file for enabling ligature support when I feel like it
;; BEG PRAGMATA PRO
;; PRETTIFY SYMBOLS (with Pragmata Pro)
(defun setup-pragmata-ligatures ()
  (setq prettify-symbols-alist
        (append prettify-symbols-alist
          '(("!!"   . ?)
            ("!="   . ?)
            ("!=="  . ?)
            ("!>"   . ?)
            ;; ("#("   . ?) ;; Screws up highlighting in Clojure
            ("#_"   . ?)
            ("#{"   . ?)
            ("#?"   . ?)
            ("#>"   . ?)
            ("%="   . ?)
            ("%>"   . ?)
            ("<~"   . ?)
            ("&%"   . ?)
            ("&&"   . ?)
            ("&*"   . ?)
            ("&+"   . ?)
            ("&-"   . ?)
            ("&/"   . ?)
            ("&="   . ?)
            ("&&&"  . ?)
            ("&>"   . ?)
            ("$>"   . ?)
            ("~>"   . ?)
            ;; ("***"  . ?) ;; Screws up org-mode
            ("*="   . ?)
            ("*/"   . ?)
            ("*>"   . ?)
            ("++"   . ?)
            ("+++"  . ?)
            ("+="   . ?)
            ("+>"   . ?)
            ("--"   . ?)
            ("-<"   . ?)
            ("-<<"  . ?)
            ("-="   . ?)
            ("->>"  . ?)
            ("---"  . ?)
            (".."   . ?)
            ("..."  . ?)
            ("..<"  . ?)
            (".>"   . ?)
            (".~"   . ?)
            (".="   . ?)
            ("/*"   . ?)
            ("//"   . ?)
            ("/>"   . ?)
            ("/="   . ?)
            ("/=="  . ?)
            ("///"  . ?)
            ("/**"  . ?)
            ("::"   . ?)
            (":="   . ?)
            (":>"   . ?)
            ("<$>"  . ?)
            ("<*"   . ?)
            ("<*>"  . ?)
            ("<+>"  . ?)
            ("<-"   . ?)
            ("->"   . ?)
            ("<<"   . ?)
            ("<<<"  . ?)
            ("<<="  . ?)
            ("<="   . ?)
            ("<=>"  . ?)
            ("<>"   . ?)
            ("<|>"  . ?)
            ("<<-"  . ?)
            ("<|"   . ?)
            ("<=<"  . ?)
            ("<~~"  . ?)
            ("<<~"  . ?)
            ("<$"   . ?)
            ("<+"   . ?)
            ("<!>"  . ?)
            ("<@>"  . ?)
            ("<#>"  . ?)
            ("<%>"  . ?)
            ("<^>"  . ?)
            ("<&>"  . ?)
            ("<?>"  . ?)
            ("<.>"  . ?)
            ("</>"  . ?)
            ("<\>"  . ?)
            ("<\">" . ?)
            ("<:>"  . ?)
            ("<~>"  . ?)
            ("<**>" . ?)
            ("<<^"  . ?)
            ("<!"   . ?)
            ("<@"   . ?)
            ("<#"   . ?)
            ("<%"   . ?)
            ("<^"   . ?)
            ("<&"   . ?)
            ("<?"   . ?)
            ("<."   . ?)
            ("</"   . ?)
            ("<\\"  . ?)
            ("<\""  . ?)
            ("<:"   . ?)
            ("=<<"  . ?)
            ("=="   . ?)
            ("==="  . ?)
            ("==>"  . ?)
            ("=>"   . ?)
            ("=~"   . ?)
            ("=>>"  . ?)
            (">-"   . ?)
            (">="   . ?)
            (">>"   . ?)
            (">>-"  . ?)
            (">>="  . ?)
            (">>>"  . ?)
            (">=>"  . ?)
            (">>^"  . ?)
            ("??"   . ?)
            ("?~"   . ?)
            ("?="   . ?)
            ("?>"   . ?)
            ("^="   . ?)
            ("^."   . ?)
            ("^?"   . ?)
            ("^.."  . ?)
            ("^<<"  . ?)
            ("^>>"  . ?)
            ("^>"   . ?)
            ("\\\\" . ?)
            ("\\>"  . ?)
            ("@>"   . ?)
            ("|="   . ?)
            ("||"   . ?)
            ("|>"   . ?)
            ("|||"  . ?)
            ("|+|"  . ?)
            ("~="   . ?)
            ("~~>"  . ?)
            ("~>>"  . ?)

            ;; Not working
            ;; ("-->"  . ?)
            ;; (":=>"  . ?)
            ;; ("<->"  . ?)
            ;; ("<!--" . ?)
            ;; ("<--"  . ?)

            ;; Weird ass extra ligatures
            ;; what language uses a three bar equal??
            ;; ("≡≡"   . ?)
            ;; ("≡≡≡"  . ?)
            ;; ("≡:≡"  . ?)
            ;; (":≡"   . ?)
            ;; ("!≡"   . ?)
            ;; ("!≡≡"  . ?)

            ;; Alternate arrows
            ;; ("<-"   . ?🡐)
            ;; ("->"   . ?🡒)
            ;; ("=>"   . ?⇒)
            ;; ("<=>"  . ?⟺)
            ;; ("<==>" . ?⟺)
            ;; ("==>"  . ?⟹)
            ;; ("<=="  . ?⟸)
            ("|->"  . ?⟼)
            ("<-|"  . ?⟻)
            ("|=>"  . ?⟾)
            ("<=|"  . ?⟽)
            ))))

(defun refresh-pretty ()
  (prettify-symbols-mode -1)
  (prettify-symbols-mode +1))

;; Hooks for modes in which to install the Pragmata ligatures
(mapc (lambda (hook)
        (add-hook hook (lambda () (setup-pragmata-ligatures) (refresh-pretty))))
      '(text-mode-hook
        prog-mode-hook))
(global-prettify-symbols-mode +1)
;; END PRAGMATA PRO
